[
  {
    "schemaname": "public",
    "tablename": "ai_interactions",
    "policyname": "ai_interactions_access_policy",
    "permissive": true,
    "roles": "{}",
    "operation": "ALL",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "documents",
    "policyname": "documents_access_policy",
    "permissive": true,
    "roles": "{}",
    "operation": "ALL",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "learning_cards",
    "policyname": "learning_cards_policy",
    "permissive": true,
    "roles": "{}",
    "operation": "ALL",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "messages",
    "policyname": "messages_access_policy",
    "permissive": true,
    "roles": "{}",
    "operation": "ALL",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "organizations",
    "policyname": "Organizations are viewable by organization members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "(auth.uid() IN ( SELECT users.id\n   FROM users\n  WHERE (users.organization_id = organizations.id)))"
  },
  {
    "schemaname": "public",
    "tablename": "organizations",
    "policyname": "Organizations are viewable by workspace members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "(workspace_id IN ( SELECT workspace_members.workspace_id\n   FROM workspace_members\n  WHERE (workspace_members.user_id = auth.uid())))"
  },
  {
    "schemaname": "public",
    "tablename": "organizations",
    "policyname": "Organizations are insertable by workspace admins",
    "permissive": true,
    "roles": "{}",
    "operation": "INSERT",
    "policy_definition": "(workspace_id IN ( SELECT workspace_members.workspace_id\n   FROM workspace_members\n  WHERE ((workspace_members.user_id = auth.uid()) AND (workspace_members.role = 'admin'::text))))"
  },
  {
    "schemaname": "public",
    "tablename": "organizations",
    "policyname": "Organizations are updatable by workspace admins",
    "permissive": true,
    "roles": "{}",
    "operation": "UPDATE",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "organizations",
    "policyname": "Organizations are updatable by admins",
    "permissive": true,
    "roles": "{}",
    "operation": "UPDATE",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "tickets",
    "policyname": "Tickets are viewable by workspace members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "((customer_id = auth.uid()) OR (assignee_id = auth.uid()) OR (organization_id IN ( SELECT organizations.id\n   FROM organizations\n  WHERE (organizations.workspace_id IN ( SELECT workspace_members.workspace_id\n           FROM workspace_members\n          WHERE (workspace_members.user_id = auth.uid()))))))"
  },
  {
    "schemaname": "public",
    "tablename": "tickets",
    "policyname": "Tickets are creatable by workspace members",
    "permissive": true,
    "roles": "{}",
    "operation": "INSERT",
    "policy_definition": "((auth.role() = 'authenticated'::text) AND ((customer_id = auth.uid()) OR (organization_id IN ( SELECT o.id\n   FROM (organizations o\n     JOIN workspace_members wm ON ((wm.workspace_id = o.workspace_id)))\n  WHERE (wm.user_id = auth.uid())))))"
  },
  {
    "schemaname": "public",
    "tablename": "tickets",
    "policyname": "Tickets are updatable by workspace members",
    "permissive": true,
    "roles": "{}",
    "operation": "UPDATE",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "tickets",
    "policyname": "Tickets are updatable by assignees and admins",
    "permissive": true,
    "roles": "{}",
    "operation": "UPDATE",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "training_feedback",
    "policyname": "training_feedback_policy",
    "permissive": true,
    "roles": "{}",
    "operation": "ALL",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "training_sessions",
    "policyname": "training_sessions_policy",
    "permissive": true,
    "roles": "{}",
    "operation": "ALL",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "policyname": "Users are viewable by workspace members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "((id = auth.uid()) OR (id IN ( SELECT wm.user_id\n   FROM workspace_members wm\n  WHERE (wm.workspace_id IN ( SELECT workspace_members.workspace_id\n           FROM workspace_members\n          WHERE (workspace_members.user_id = auth.uid()))))))"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "policyname": "Users can update themselves",
    "permissive": true,
    "roles": "{}",
    "operation": "UPDATE",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "policyname": "Users can update their own record",
    "permissive": true,
    "roles": "{}",
    "operation": "UPDATE",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "workspace_members",
    "policyname": "Workspace members are viewable by workspace members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "(EXISTS ( SELECT 1\n   FROM workspace_members wm\n  WHERE ((wm.workspace_id = workspace_members.workspace_id) AND (wm.user_id = auth.uid()))))"
  },
  {
    "schemaname": "public",
    "tablename": "workspace_members",
    "policyname": "Workspace members are viewable",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "((user_id = auth.uid()) OR (workspace_id IN ( SELECT workspace_members_1.workspace_id\n   FROM workspace_members workspace_members_1\n  WHERE (workspace_members_1.user_id = auth.uid()))))"
  },
  {
    "schemaname": "public",
    "tablename": "workspace_members",
    "policyname": "workspace_members_select_policy",
    "permissive": true,
    "roles": "{authenticated}",
    "operation": "SELECT",
    "policy_definition": "(user_id = auth.uid())"
  },
  {
    "schemaname": "public",
    "tablename": "workspace_members",
    "policyname": "Users can view their own memberships",
    "permissive": true,
    "roles": "{authenticated}",
    "operation": "SELECT",
    "policy_definition": "(user_id = auth.uid())"
  },
  {
    "schemaname": "public",
    "tablename": "workspace_members",
    "policyname": "workspace_members_insert_policy",
    "permissive": true,
    "roles": "{authenticated}",
    "operation": "INSERT",
    "policy_definition": "(user_id = auth.uid())"
  },
  {
    "schemaname": "public",
    "tablename": "workspace_members",
    "policyname": "Workspace members can be managed by workspace admins",
    "permissive": true,
    "roles": "{}",
    "operation": "ALL",
    "policy_definition": null
  },
  {
    "schemaname": "public",
    "tablename": "workspaces",
    "policyname": "Workspaces are viewable by members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "(id IN ( SELECT workspace_members.workspace_id\n   FROM workspace_members\n  WHERE (workspace_members.user_id = auth.uid())))"
  },
  {
    "schemaname": "public",
    "tablename": "workspaces",
    "policyname": "workspaces_select_policy",
    "permissive": true,
    "roles": "{authenticated}",
    "operation": "SELECT",
    "policy_definition": "(EXISTS ( SELECT 1\n   FROM workspace_members\n  WHERE ((workspace_members.workspace_id = workspaces.id) AND (workspace_members.user_id = auth.uid()))))"
  },
  {
    "schemaname": "public",
    "tablename": "workspaces",
    "policyname": "Workspaces are viewable by workspace members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "(EXISTS ( SELECT 1\n   FROM workspace_members\n  WHERE ((workspace_members.workspace_id = workspaces.id) AND (workspace_members.user_id = auth.uid()))))"
  },
  {
    "schemaname": "public",
    "tablename": "workspaces",
    "policyname": "workspaces_insert_policy",
    "permissive": true,
    "roles": "{authenticated}",
    "operation": "INSERT",
    "policy_definition": "true"
  },
  {
    "schemaname": "public",
    "tablename": "workspaces",
    "policyname": "Workspaces are updatable by workspace admins",
    "permissive": true,
    "roles": "{}",
    "operation": "UPDATE",
    "policy_definition": null
  },
  {
    "schemaname": "storage",
    "tablename": "objects",
    "policyname": "Attachments are accessible by organization members",
    "permissive": true,
    "roles": "{}",
    "operation": "SELECT",
    "policy_definition": "(auth.uid() IN ( SELECT users.id\n   FROM users\n  WHERE (users.organization_id = ( SELECT tickets.organization_id\n           FROM tickets\n          WHERE (tickets.id = ((storage.foldername(objects.name))[1])::uuid)))))"
  }
]